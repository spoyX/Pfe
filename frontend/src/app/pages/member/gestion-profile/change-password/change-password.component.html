<form [formGroup]="passwordForm" (ngSubmit)="changePassword()">
  <div class="mb-3">
    <label for="currentPassword" class="form-label">Current Password</label>
    <input type="password" id="currentPassword" formControlName="currentPassword" class="form-control" placeholder="Enter current password">
    @if (passwordForm.get('currentPassword')?.touched && passwordForm.get('currentPassword')?.invalid) {
      <div class="text-danger">
        Current password is required.
      </div>
    }
    @if (currentPasswordIncorrect) {
      <div class="text-danger mt-1">
        Current password is incorrect. Please try again.
      </div>
    }
  </div>

  <div class="mb-3">
    <label for="newPassword" class="form-label">New Password</label>
    <input type="password" id="newPassword" formControlName="newPassword" class="form-control" placeholder="Enter new password">
    @if (passwordForm.get('newPassword')?.touched && passwordForm.get('newPassword')?.invalid) {
      <div class="text-danger">
        New password is required (min. 6 characters).
      </div>
    }
  </div>

  <div class="mb-3">
    <label for="confirmPassword" class="form-label">Confirm New Password</label>
    <input type="password" id="confirmPassword" formControlName="confirmPassword" class="form-control" placeholder="Confirm new password">
    @if (passwordForm.errors?.['mismatch'] && passwordForm.get('confirmPassword')?.touched) {
      <div class="text-danger">
        Passwords do not match.
      </div>
    }
  </div>

  <button type="submit" class="btn btn-primary" [disabled]="passwordForm.invalid">Change Password</button>
</form>